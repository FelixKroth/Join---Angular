<!-- app.component.html -->
<div *ngIf="showAnimation" class="animation-container" #logoContainer>
  <div class="background"></div>
  <img id="logo" src="./../assets/img/join_logo_DARK.svg" alt="Logo" />
</div>

<mat-drawer-container class="mat-drawer-container" *ngIf="shouldShowContent && !showAnimation">
  <mat-drawer #drawer class="sidenav" [opened]="true" mode="side">
    <div class="inner-wrapper">
      <div class="logo-container">
        <img src="./../assets/img/join_logo_DARK.svg" alt="Logo" height="38" />
        <span class="logo-wording">Project Management Tool</span>
      </div>
      <ul class="menu-items">
        <li routerLink="/summary"><mat-icon>summarize</mat-icon>Summary</li>
        <li routerLink="/board"><mat-icon>view_kanban</mat-icon>Board</li>
        <li routerLink="/add-task"><mat-icon>add_task</mat-icon>Add task</li>
        <li routerLink="/contact"><mat-icon>badge</mat-icon>Contact</li>
      </ul>
      <ul class="menu-items-legal">
        <li routerLink="/imprint"><mat-icon>flag_2</mat-icon>Imprint</li>
        <li routerLink="/privacy"><mat-icon>policy</mat-icon>Privacy policy</li>
      </ul>
      <!-- <div class="logout-button-container">
        <button mat-button color="warn" (click)="logout()">
          <mat-icon>logout</mat-icon> Logout
        </button>
      </div> -->
    </div>
  </mat-drawer>
  <div class="sidenav-content">
    <mat-toolbar color="primary">
      <mat-toolbar-row (click)="drawer.toggle()">
        <div class="toolbar-row-wrapper">
          <div>
            <mat-icon class="menu-icon">menu</mat-icon>
          </div>
          <div class="logout-button-container">
            <button mat-button color="warn" (click)="logout()">
              <mat-icon>logout</mat-icon> Logout
            </button>
          </div>
        </div>
        <div *ngIf="userInitials$ | async as userData; else loading" class="user-initials" [ngStyle]="{'background-color': userData?.color}">
          {{ userData?.initials }}
        </div>
        <ng-template #loading>
          <div class="user-initials">--</div>
        </ng-template>
      </mat-toolbar-row>
    </mat-toolbar>
    <div class="router-container">
      <router-outlet></router-outlet>
    </div>
  </div>
</mat-drawer-container>

<div *ngIf="!shouldShowContent && !showAnimation">
  <router-outlet></router-outlet>
</div>
